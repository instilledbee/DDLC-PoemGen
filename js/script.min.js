"use strict";function showModal(){$("#mainModal").modal({escapeClose:!1,clickClose:!1,showClose:!1})}function showPoem(e,o,n,t,a,l){$.modal.close();var r=getRandomIntInclusive(0,100);r<a.length+l.length+t.length+e.length+o.length?($("body").addClass(l+a+t+n+o+e),$("*").off()):$("#poemGen").fadeIn(1e3)}function createDownload(){var e=document.getElementById("poemImg");if(e.getContext){var o=e.getContext("2d"),n=new Image;n.onload=function(){o.drawImage(n,0,0);var t=new Image;t.onload=function(){o.drawImage(t,240,0);var n=$("#poemGen pre").text();o.font="16pt Journal",o.fillText(n,10,50,1280);var a=e.toDataURL("image/png"),l=document.createElement("a");l.download="poem.png",l.href=a,document.body.appendChild(l),l.click(),document.body.removeChild(l)},t.src="img/poem.jpg"},n.src="img/club.png"}else alert("Sorry, your browser doesn't support image generation!")}function getRandomIntInclusive(e,o){return e=Math.ceil(e),o=Math.floor(o),Math.floor(Math.random()*(o-e+1))+e}$(function(){showModal(),$("body").click(function(){$("#poemGen").is(":visible")&&$("#poemGen").fadeOut(1e3,showModal)}),$("#poemGen").click(function(e){e.stopPropagation()});var e="x",o="ts";$("#generate").click(function(r){r.preventDefault(),r.stopPropagation(),showPoem(o,l,a,t,e,n)}),$("#download").click(function(e){e.preventDefault(),e.stopPropagation(),createDownload()}),$("#poem").on("input",function(e){$("#poemGen pre").text(e.target.value)});var n="h",t="ppy",a="thx",l="ugh";$("#poemFont").on("change",function(){$("#poemGen").removeClass(),$("#poemGen pre").removeClass(),$("#poemGen").addClass("paper"),$("#poemGen pre").addClass(this.value),"yuri2"!==this.value&&"yuri3"!==this.value||$("#poemGen").addClass(this.value)})});